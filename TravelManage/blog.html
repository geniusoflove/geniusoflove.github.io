<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Travel Blog | Brittany Carter – Travel Designer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Travel blog by Brittany Carter, Travel Designer. Read destination guides, future trip ideas, and travel planning tips." />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="logo">
      <span class="logo-mark">BC</span>
      <div class="logo-text">
        <span class="logo-name">Brittany Carter</span>
        <span class="logo-role">Travel Designer</span>
      </div>
    </div>

    <nav class="main-nav" id="mainNav">
      <a href="index.html#hero">Home</a>
      <a href="index.html#tools">Travel Tools</a>
      <a href="blog.html">Daily Blog</a>
      <a href="index.html#destinations">Destinations</a>
      <a href="index.html#contact">Contact</a>
    </nav>

    <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <main class="blog-page">
    <div class="blog-layout">
      <!-- MAIN COLUMN -->
      <section class="blog-content">
        <h1 class="blog-page-title">Travel Designs by Britty – Blog</h1>

        <div id="blogIndexList">
          <!-- JS renders posts here -->
        </div>
      </section>

      <!-- SIDEBAR -->
      <aside class="blog-sidebar">
        <div class="blog-widget">
          <h2 class="widget-title">Recent posts</h2>
          <ul id="recentPosts" class="recent-posts">
            <!-- JS renders recent post links here -->
          </ul>
        </div>

        <div class="blog-widget">
          <h2 class="widget-title">About this blog</h2>
          <p class="widget-text">
            Travel Designs by Britty brings you destination ideas, future trip inspiration,
            itineraries, and planning tips so you can dream now and travel with confidence later.
          </p>
        </div>
      </aside>
    </div>
  </main>

  <footer class="site-footer">
    <p>© <span id="year"></span> Brittany Carter – Travel Designer. All rights reserved.</p>
  </footer>

  <script src="blog-posts.js"></script>
  <script src="script.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const listEl = document.getElementById("blogIndexList");
      const recentEl = document.getElementById("recentPosts");

      if (!Array.isArray(BLOG_POSTS) || BLOG_POSTS.length === 0) {
        listEl.innerHTML = "<p>No blog posts yet. Add some in blog-posts.js.</p>";
        return;
      }

      const posts = [...BLOG_POSTS].sort(
        (a, b) => new Date(b.date) - new Date(a.date)
      );

      function formatDate(dateStr) {
        const d = new Date(dateStr);
        if (isNaN(d)) return dateStr;
        return d.toLocaleDateString("en-US", {
          year: "numeric",
          month: "short",
          day: "numeric"
        });
      }

      // Main list with image + excerpt
      posts.forEach((post) => {
        const article = document.createElement("article");
        article.className = "blog-index-item";

        article.innerHTML = `
          <a href="blog-post.html?id=${encodeURIComponent(post.id)}" class="blog-index-thumb-link">
            <div class="blog-index-thumb">
              <img src="${post.image}" alt="${post.imageAlt || post.title}" />
            </div>
          </a>
          <div class="blog-index-text">
            <p class="blog-index-category">${post.category || "Travel Blog"}</p>
            <h2 class="blog-index-title">
              <a href="blog-post.html?id=${encodeURIComponent(post.id)}">${post.title}</a>
            </h2>
            <p class="blog-index-meta">
              <span>${formatDate(post.date)}</span>
              ${post.readTime ? `<span>· ${post.readTime}</span>` : ""}
            </p>
            <p class="blog-index-excerpt">
              ${post.excerpt || ""}
            </p>
            <p class="blog-index-readmore">
              <a href="blog-post.html?id=${encodeURIComponent(post.id)}">Read more →</a>
            </p>
          </div>
        `;

        listEl.appendChild(article);
      });

      // Sidebar recent posts (top 5)
      const recent = posts.slice(0, 5);
      recent.forEach((post) => {
        const li = document.createElement("li");
        li.className = "recent-post";
        li.innerHTML = `
          <a href="blog-post.html?id=${encodeURIComponent(post.id)}">
            <span class="recent-post-title">${post.title}</span>
            <span class="recent-post-date">${formatDate(post.date)}</span>
          </a>
        `;
        recentEl.appendChild(li);
      });
    });
  </script>
</body>
</html>
